package com.example.demo.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.example.demo.dto.PatientRegistration;
import com.example.demo.model.Patientmodel;
import com.example.demo.responses.Responses;
import com.example.demo.serviceimpletation.PatientserviceImp;

@RestController
@RequestMapping("/patient")
public class Patientcontroller
{
	@Autowired
	private PatientserviceImp patientService;
	
	//API  for registration
	
	public ResponseEntity<Responses> patientRegistration(@RequestBody PatientRegistration PatientRegistration)
	{
		Patientmodel result=patientService.addPatient(PatientRegistration);
		if(result !=null)
		{
			return ResponseEntity.status(HttpStatus.ACCEPTED).body(new Responses("Successfully registerd",200,result));
		}
		else
		{
			return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(new Responses("Registration failed",400,result));

		}
		
	}

}
